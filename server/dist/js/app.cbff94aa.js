(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],v=0,m=[];v<s.length;v++)i=s[v],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"51c9":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("TheNavbar"),r("v-main",[r("router-view")],1),r("TheFooter")],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app-bar",[r("v-container",[r("v-toolbar",{attrs:{dark:"",flat:""}},[r("v-toolbar-title",[r("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[e._v("MDb")])],1),r("v-spacer"),r("v-app-bar-nav-icon",{staticClass:"hidden-sm-and-up",on:{click:function(t){e.drawer=!0}}}),r("v-toolbar-items",{staticClass:"hidden-xs-only"},[e._l(e.navItems,(function(t){return r("v-btn",{key:t.title,attrs:{text:"",router:"",to:t.link},domProps:{textContent:e._s(t.title)}})})),e.getToken?r("v-btn",{attrs:{text:""},domProps:{textContent:e._s("logout")},on:{click:e.logout}}):e._e()],2)],1)],1)],1),r("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{nav:"",dense:""}},e._l(e.navItems,(function(t){return r("v-list-item-group",{key:t.title},[r("v-list-item",{attrs:{router:"",to:t.link}},[r("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)],1)],1)},s=[],c=(r("99af"),r("2909")),l=r("5530"),u=r("2f62"),v={name:"TheNavbar",data:function(){return{drawer:!1,links:[{icon:"",title:"Home",link:"/"},{icon:"",title:"Movies",link:"/movies"}]}},computed:Object(l["a"])(Object(l["a"])({},Object(u["c"])(["getToken"])),{},{navItems:function(){var e;return e=this.getToken?[{icon:"",title:"Profile",link:"/profile"}]:[{icon:"",title:"Login",link:"/login"}],[].concat(Object(c["a"])(this.links),Object(c["a"])(e))}}),methods:{logout:function(){this.$store.commit("clear_token")}}},m=v,d=r("2877"),p=r("6544"),f=r.n(p),h=r("40dc"),g=r("5bc1"),_=r("8336"),b=r("a523"),w=r("8860"),x=r("da13"),V=r("1baa"),C=r("5d23"),k=r("f774"),E=r("2fa4"),O=r("71d9"),R=r("2a7f"),j=Object(d["a"])(m,i,s,!1,null,null,null),I=j.exports;f()(j,{VAppBar:h["a"],VAppBarNavIcon:g["a"],VBtn:_["a"],VContainer:b["a"],VList:w["a"],VListItem:x["a"],VListItemGroup:V["a"],VListItemTitle:C["b"],VNavigationDrawer:k["a"],VSpacer:E["a"],VToolbar:O["a"],VToolbarItems:R["a"],VToolbarTitle:R["b"]});var M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-footer",[e._v(" Â© Marko Gajin ")])},T=[],y={name:"TheFooter"},S=y,G=r("553a"),D=Object(d["a"])(S,M,T,!1,null,null,null),P=D.exports;f()(D,{VFooter:G["a"]});var $={name:"App",components:{TheNavbar:I,TheFooter:P}},A=$,N=r("7496"),F=r("f6c4"),B=Object(d["a"])(A,a,o,!1,null,null,null),W=B.exports;f()(B,{VApp:N["a"],VMain:F["a"]});r("96cf");var U=r("1da1"),L=r("bc3a"),H=r.n(L),q="http://localhost:5000/v1/movies",z={movies:[],imdbMovies:[],movie:{},genres:["Action","Sci-Fi","Comedy","Thriller","Crime","Drama","Mystery","Horror","Adventure","Fantasy","Western"]},J={getMovies:function(e){return e.movies},getImdbMovies:function(e){return e.imdbMovies},getMovie:function(e){return e.movie},getGenres:function(e){return e.genres}},Y={GET_MOVIES:function(e){var t=arguments;return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.length>1&&void 0!==t[1]?t[1]:"",r.next=4,H.a.get(q+a).then((function(e){var t=e.data.movies;n("set_movies",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 4:case"end":return r.stop()}}),r)})))()},GET_MOVIE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,H.a.get("".concat(q,"/").concat(t)).then((function(e){var t=e.data.movie;n("set_movie",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 3:case"end":return r.stop()}}),r)})))()},SEARCH_IMDB:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={Authorization:"Bearer ".concat(t.token)},r.next=4,H.a.get("".concat(q,"/imdb/").concat(t.movie),{headers:a}).then((function(e){var t=e.data.movies;n("set_imdb_movies",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 4:case"end":return r.stop()}}),r)})))()},ADD_MOVIE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={imdbId:t.id},o={Authorization:"Bearer ".concat(t.token)},r.next=5,H.a.post(q,a,{headers:o}).then((function(e){var t=e.data.movies;n("set_imdb_movies",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 5:case"end":return r.stop()}}),r)})))()}},K={set_movies:function(e,t){return e.movies=t},set_imdb_movies:function(e,t){return e.imdbMovies=t},set_movie:function(e,t){return e.movie=t}},Q={state:z,getters:J,actions:Y,mutations:K},X=(r("4160"),r("159b"),"http://localhost:5000/v1/reviews"),Z={reviews:[],userReviews:[],userReview:null},ee={getReviews:function(e){return e.reviews},getUserReviews:function(e){return e.userReviews},getUserReview:function(e){return e.userReview}},te={GET_REVIEW:function(e,t){var r=e.commit,n=null;t.reviews.forEach((function(e){e.user.username==t.user.username&&(n=e)})),r("set_user_review",n)},GET_MOVIE_REVIEWS:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,H.a.get("".concat(X,"/movie/").concat(t)).then((function(e){var t=e.data.reviews;n("set_reviews",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 3:case"end":return r.stop()}}),r)})))()},GET_USER_REVIEWS:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={Authorization:"Bearer ".concat(t)},r.next=4,H.a.get("".concat(X,"/user"),{headers:a}).then((function(e){var t=e.data.reviews;n("set_user_reviews",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 4:case"end":return r.stop()}}),r)})))()},ADD_REVIEW:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={movie:t.movieId,rating:t.rating,comment:t.comment},o={Authorization:"Bearer ".concat(t.token)},r.next=5,H.a.post(X,a,{headers:o}).then((function(e){var t=e.data.review;n("set_user_review",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 5:case"end":return r.stop()}}),r)})))()}},re={set_reviews:function(e,t){return e.reviews=t},set_user_reviews:function(e,t){return e.userReviews=t},set_user_review:function(e,t){return e.userReview=t}},ne={state:Z,getters:ee,actions:te,mutations:re},ae="http://localhost:5000/v1/auth",oe={user:window.localStorage.getItem("user"),token:window.localStorage.getItem("token"),loading:!1,error:null},ie={getUser:function(e){return e.user},getToken:function(e){return e.token},getLoading:function(e){return e.loading},getError:function(e){return e.error}},se={GET_USER:function(e){return Object(U["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n={Authorization:"Bearer ".concat(ie.getToken)},t.next=4,H.a.get("".concat(ae,"/user"),n).then((function(e){var t=e.data.user;r("set_user",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 4:case"end":return t.stop()}}),t)})))()},SIGN_IN:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,n("set_loading",!0),n("clear_error"),r.next=5,H.a.post("".concat(ae,"/login"),t).then((function(e){var t=e.data,r=t.user,a=t.token;n("set_loading",!1),n("set_user",r),n("set_token",a)})).catch((function(e){var t=e.response.data.message;n("set_loading",!1),n("set_error",t)}));case 5:case"end":return r.stop()}}),r)})))()},SIGN_UP:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,n("set_loading",!0),n("clear_error"),r.next=5,H.a.post("".concat(ae,"/register"),t).then((function(e){var t=e.data,r=t.user,a=t.token;n("set_loading",!1),n("set_user",r),n("set_token",a)})).catch((function(e){var t=e.response.data.message;n("set_loading",!1),n("set_error",t)}));case 5:case"end":return r.stop()}}),r)})))()}},ce={set_user:function(e,t){e.user=t;var r=JSON.stringify(t);localStorage.setItem("user",r)},set_token:function(e,t){e.token=t,localStorage.setItem("token",t)},clear_token:function(e){e.token=null,e.user=null,localStorage.clear()},set_loading:function(e,t){return e.loading=t},set_error:function(e,t){return e.error=t},clear_error:function(e){return e.error=null}},le={state:oe,getters:ie,actions:se,mutations:ce},ue="http://localhost:5000/v1/watchlist",ve={watchlist:{}},me={getWatchlist:function(e){return e.watchlist}},de={GET_WATCHLIST:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={Authorization:"Bearer ".concat(t)},r.next=4,H.a.get(ue,{headers:a}).then((function(e){var t=e.data.watchlist;n("set_watchlist",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 4:case"end":return r.stop()}}),r)})))()},INSERT_MOVIE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={Authorization:"Bearer ".concat(t.token)},o={movieId:t.movieId},r.next=5,H.a.put("".concat(ue,"/insert"),o,{headers:a}).then((function(e){var t=e.data.watchlist;n("set_watchlist",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 5:case"end":return r.stop()}}),r)})))()},REMOVE_MOVIE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a={Authorization:"Bearer ".concat(t.token)},o={movieId:t.movieId},r.next=5,H.a.put("".concat(ue,"/remove"),o,{headers:a}).then((function(e){var t=e.data.watchlist;n("set_watchlist",t)})).catch((function(e){var t=e.response.data.message;alert(t)}));case 5:case"end":return r.stop()}}),r)})))()}},pe={set_watchlist:function(e,t){return e.watchlist=t}},fe={state:ve,getters:me,actions:de,mutations:pe},he={reviewDialog:!1},ge={getReviewDialog:function(e){return e.reviewDialog}},_e={show_review_dialog:function(e){return e.reviewDialog=!0},close_review_dialog:function(e){return e.reviewDialog=!1}},be={state:he,getters:ge,mutations:_e};n["a"].use(u["a"]);var we=new u["a"].Store({modules:{movies:Q,reviews:ne,watchlist:fe,auth:le,utils:be}}),xe=r("8c4f"),Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{align:"center"}},[r("MovieCarousel",{attrs:{movies:e.getMovies}})],1)],1),r("v-sheet",{attrs:{elevation:"8"}},[r("v-row",[r("v-col",{attrs:{cols:"12",align:"center"}},[r("h2",[e._v("Fan favorites")])]),r("v-col",{attrs:{cols:"12"}},[r("MovieSlideGroup",{attrs:{movies:e.getMovies}})],1)],1)],1),r("br"),r("v-sheet",{attrs:{elevation:"8"}},[r("v-row",[r("v-col",{attrs:{cols:"12",align:"center"}},[r("h2",[e._v("Top rated")])]),r("v-col",{attrs:{cols:"12"}},[r("MovieSlideGroup",{attrs:{movies:e.getMovies}})],1)],1)],1)],1)},Ce=[],ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-carousel",{attrs:{cycle:"","show-arrows-on-hover":""}},e._l(e.movies,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.poster,contain:""}})})),1)},Ee=[],Oe={name:"MovieCarousel",props:["movies"]},Re=Oe,je=r("5e66"),Ie=r("3e35"),Me=Object(d["a"])(Re,ke,Ee,!1,null,null,null),Te=Me.exports;f()(Me,{VCarousel:je["a"],VCarouselItem:Ie["a"]});var ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-center"},[r("v-slide-group",{attrs:{"show-arrows":!0,"center-active":!0}},e._l(e.movies,(function(t){return r("v-slide-item",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(n){n.active;var a=n.toggle;return[r("v-card",{staticClass:"ma-2",attrs:{width:"180"}},[r("v-img",{attrs:{src:t.poster},on:{click:a}}),r("v-card-actions",[r("v-btn",{attrs:{block:"",color:"primary--text"},domProps:{textContent:e._s("see movie")},on:{click:function(r){return e.getMovie(t._id)}}})],1)],1)]}}],null,!0)})})),1)],1)},Se=[],Ge={name:"MovieSlideGroup",props:["movies","btnText"],methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["GET_MOVIE"])),{},{getMovie:function(e){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.GET_MOVIE(e);case 2:t.$router.push("/movies/".concat(e));case 3:case"end":return r.stop()}}),r)})))()}})},De=Ge,Pe=r("b0af"),$e=r("99d9"),Ae=r("adda"),Ne=r("7efd"),Fe=r("9dbe"),Be=Object(d["a"])(De,ye,Se,!1,null,null,null),We=Be.exports;f()(Be,{VBtn:_["a"],VCard:Pe["a"],VCardActions:$e["a"],VImg:Ae["a"],VSlideGroup:Ne["b"],VSlideItem:Fe["a"]});var Ue={name:"Home",components:{MovieCarousel:Te,MovieSlideGroup:We},methods:Object(l["a"])({},Object(u["b"])(["GET_MOVIES"])),created:function(){this.GET_MOVIES()},computed:Object(u["c"])(["getMovies"])},Le=Ue,He=r("62ad"),qe=r("0fd9"),ze=r("8dd9"),Je=Object(d["a"])(Le,Ve,Ce,!1,null,null,null),Ye=Je.exports;f()(Je,{VCol:He["a"],VContainer:b["a"],VRow:qe["a"],VSheet:ze["a"]});var Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[r("FilterMoviesForm")],1)],1),r("v-row",e._l(e.getMovies,(function(t){return r("v-col",{key:t._id,staticClass:"pa-1",attrs:{cols:"4",md:"3",lg:"2"}},[r("MovieHoverCard",{attrs:{movie:t},on:{action:function(r){return e.getMovie(t._id)}}})],1)})),1)],1)},Qe=[],Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{staticClass:"pa-1",attrs:{cols:"6"}},[r("v-form",{on:{submit:e.searchMovie}},[r("v-text-field",{attrs:{solo:"",label:"Search movie","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-col",{staticClass:"pa-1",attrs:{cols:"4"}},[r("v-select",{attrs:{solo:"",items:e.getGenres,label:"Genre"},model:{value:e.genre,callback:function(t){e.genre=t},expression:"genre"}})],1),r("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"2"}},[r("v-btn",{attrs:{icon:""},on:{click:e.clearFilter}},[r("v-icon",[e._v("mdi-refresh")])],1)],1)],1)],1)},Ze=[],et=(r("ac1f"),r("841c"),{name:"FilterMoviesForm",data:function(){return{search:"",genre:""}},computed:Object(l["a"])(Object(l["a"])({},Object(u["c"])(["getGenres"])),{},{query:function(){return""!=this.genre?"?genre=".concat(this.genre):""!=this.search?"?title=".concat(this.search):""}}),watch:{genre:function(e){""!=e&&(this.search="",this.GET_MOVIES(this.query))},query:function(e){""==e&&this.GET_MOVIES()}},methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["GET_MOVIES"])),{},{searchMovie:function(e){e.preventDefault(),this.genre="",""!=this.query&&this.GET_MOVIES(this.query)},clearFilter:function(){this.search="",this.genre=""}})}),tt=et,rt=r("4bd4"),nt=r("132d"),at=r("b974"),ot=r("8654"),it=Object(d["a"])(tt,Xe,Ze,!1,null,null,null),st=it.exports;f()(it,{VBtn:_["a"],VCol:He["a"],VContainer:b["a"],VForm:rt["a"],VIcon:nt["a"],VRow:qe["a"],VSelect:at["a"],VTextField:ot["a"]});var ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[r("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[r("v-img",{attrs:{src:e.movie.poster,width:"100%"}}),r("v-expand-transition",[n?r("div",{staticClass:"d-flex flex-column transition-fast-in-fast-out black v-card--reveal display-3 white--text"},[r("p",{staticClass:"headline text-caption"},[e._v(e._s(e.movie.title))]),r("div",{staticClass:"d-flex flex-column align-center pa-0"},[r("span",{staticClass:"caption"},[e._v("("+e._s(e.movie.rating)+")")]),r("v-rating",{attrs:{length:"5",readonly:"",dense:"",size:"18"},model:{value:e.movie.rating,callback:function(t){e.$set(e.movie,"rating",t)},expression:"movie.rating"}})],1),r("v-btn",{attrs:{outlined:""},domProps:{textContent:e._s("see movie")},on:{click:e.onClick}})],1):e._e()])],1)]}}])})},lt=[],ut={name:"MovieHoverCard",props:["movie"],methods:{onClick:function(){this.$emit("action")}}},vt=ut,mt=(r("6c48"),r("0789")),dt=r("ce87"),pt=r("1d4d"),ft=Object(d["a"])(vt,ct,lt,!1,null,null,null),ht=ft.exports;f()(ft,{VBtn:_["a"],VCard:Pe["a"],VExpandTransition:mt["a"],VHover:dt["a"],VImg:Ae["a"],VRating:pt["a"]});var gt={name:"Movies",components:{FilterMoviesForm:st,MovieHoverCard:ht},computed:Object(u["c"])(["getMovies"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["GET_MOVIES","GET_MOVIE"])),{},{getMovie:function(e){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.GET_MOVIE(e);case 2:t.$router.push("movies/".concat(e));case 3:case"end":return r.stop()}}),r)})))()}}),created:function(){this.GET_MOVIES()}},_t=gt,bt=Object(d["a"])(_t,Ke,Qe,!1,null,null,null),wt=bt.exports;f()(bt,{VCol:He["a"],VContainer:b["a"],VRow:qe["a"]});var xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("MovieHolder",{attrs:{movie:e.getMovie,userReview:e.getUserReview}}),r("ReviewDialog",{attrs:{movie:e.getMovie}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-container",[r("v-card-title",{domProps:{textContent:e._s("Reviews")}}),r("v-row",e._l(e.getReviews,(function(e){return r("v-col",{key:e._id,attrs:{cols:"12"}},[r("ReviewCard",{attrs:{title:e.comment,text:e.user.username,rating:e.rating}})],1)})),1)],1)],1)],1)],1)],1)},Vt=[],Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-container",[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-card-title",{staticClass:"headline pa-1",attrs:{align:"justify"},domProps:{textContent:e._s(e.movie.title)}})],1),r("v-col",{attrs:{cols:"6",sm:"5",md:"4",lg:"3"}},[r("v-img",{attrs:{src:e.movie.poster,height:"100%",contain:""}})],1),r("v-col",{staticClass:"d-flex flex-column justify-space-between",attrs:{cols:"6",sm:"7",md:"8",lg:"9"}},[r("v-card-text",{staticClass:"pa-1",attrs:{align:"start"}},e._l(e.movie.genre,(function(t){return r("v-btn",{key:t,staticClass:"ma-1 ml-0 mr-2",domProps:{textContent:e._s(t)}})})),1),r("v-card-text",{staticClass:"hidden-xs-only pa-1",attrs:{align:"justify"},domProps:{textContent:e._s(e.movie.plot)}}),r("v-card-actions",{staticClass:"hidden-xs-only"},[r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"}},[r("div",{staticClass:"d-flex flex-column"},[r("v-icon",{attrs:{color:"yellow"}},[e._v("mdi-star")]),r("label",[e._v(e._s(e.movie.rating)+"/5")])],1)]),e.userReview?r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"}},[r("div",{staticClass:"d-flex flex-column"},[r("v-icon",{attrs:{color:"primary"}},[e._v("mdi-star")]),r("label",[e._v(e._s(e.userReview.rating)+"/5")])],1)]):e._e(),e.userReview?e._e():r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"},on:{click:e.openDialog}},[r("div",{staticClass:"d-flex flex-column"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-star")]),r("label",[e._v("0/5")])],1)]),r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"}},[r("div",{staticClass:"d-flex flex-column"},[r("span",[e._v("IMDb")]),r("label",[e._v(e._s(e.movie.imdbRating)+"/10")])])])],1),r("v-card-actions",{staticClass:"hidden-xs-only pa-1"},[r("v-btn",{attrs:{block:"",color:"primary"},domProps:{textContent:e._s("save to watchlist")},on:{click:e.saveToWatchlist}})],1)],1),r("v-col",{staticClass:"hidden-sm-and-up",attrs:{cols:"12"}},[r("v-card-text",{staticClass:"pa-0 mb-2",attrs:{align:"justify"},domProps:{textContent:e._s(e.movie.plot)}}),r("v-card-actions",{staticClass:"pa-0"},[r("v-btn",{attrs:{block:"",color:"primary"},domProps:{textContent:e._s("save to watchlist")},on:{click:e.saveToWatchlist}})],1),r("v-card-actions",{staticClass:"d-flex justify-space-around pa-0 mt-4"},[r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"}},[r("div",{staticClass:"d-flex flex-column"},[r("v-icon",{attrs:{color:"yellow"}},[e._v("mdi-star")]),r("label",[e._v(e._s(e.movie.rating)+"/5")])],1)]),e.userReview?r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"}},[r("div",{staticClass:"d-flex flex-column"},[r("v-icon",{attrs:{color:"primary"}},[e._v("mdi-star")]),r("label",[e._v(e._s(e.userReview.rating)+"/5")])],1)]):e._e(),e.userReview?e._e():r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"},on:{click:e.openDialog}},[r("div",{staticClass:"d-flex flex-column"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-star")]),r("label",[e._v("0/5")])],1)]),r("v-btn",{staticClass:"pa-1",attrs:{text:"",height:"100%"}},[r("div",{staticClass:"d-flex flex-column"},[r("span",[e._v("IMDb")]),r("label",[e._v(e._s(e.movie.imdbRating)+"/10")])])])],1)],1)],1)],1)],1)},kt=[],Et={name:"MovieHolder",props:["movie","userReview"],computed:Object(u["c"])(["getToken"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["INSERT_MOVIE"])),{},{openDialog:function(){this.$store.commit("show_review_dialog")},saveToWatchlist:function(){var e={token:this.getToken,movieId:this.movie._id};this.INSERT_MOVIE(e)}})},Ot=Et,Rt=Object(d["a"])(Ot,Ct,kt,!1,null,null,null),jt=Rt.exports;f()(Rt,{VBtn:_["a"],VCard:Pe["a"],VCardActions:$e["a"],VCardText:$e["b"],VCardTitle:$e["c"],VCol:He["a"],VContainer:b["a"],VIcon:nt["a"],VImg:Ae["a"],VRow:qe["a"]});var It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.getReviewDialog,callback:function(t){e.getReviewDialog=t},expression:"getReviewDialog"}},[r("v-card",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card-title",{domProps:{textContent:e._s(e.movie.title)}})],1),r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-rating",{model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{name:"input-7-4",label:"Your thoughts"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{domProps:{textContent:e._s("cancel")},on:{click:e.closeDialog}}),r("v-btn",{domProps:{textContent:e._s("submit")},on:{click:e.submitReview}})],1)],1)],1)],1)],1)],1)},Mt=[],Tt={data:function(){return{rating:1,comment:""}},props:["movie"],computed:Object(u["c"])(["getReviewDialog","getToken"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["ADD_REVIEW"])),{},{closeDialog:function(){this.$store.commit("close_review_dialog")},submitReview:function(){var e={movieId:this.movie._id,rating:this.rating,comment:this.comment,token:this.getToken};this.ADD_REVIEW(e),this.closeDialog()}})},yt=Tt,St=r("169a"),Gt=r("a844"),Dt=Object(d["a"])(yt,It,Mt,!1,null,null,null),Pt=Dt.exports;f()(Dt,{VBtn:_["a"],VCard:Pe["a"],VCardActions:$e["a"],VCardTitle:$e["c"],VCol:He["a"],VContainer:b["a"],VDialog:St["a"],VRating:pt["a"],VRow:qe["a"],VSpacer:E["a"],VTextarea:Gt["a"]});var $t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[r("v-card-title",{domProps:{textContent:e._s(e.title)}}),r("v-card-text",{domProps:{textContent:e._s(e.text)}}),r("v-rating",{attrs:{align:"end",length:"5",readonly:"",small:""},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1)},At=[],Nt={name:"ReviewCard",props:["title","text","rating"]},Ft=Nt,Bt=Object(d["a"])(Ft,$t,At,!1,null,null,null),Wt=Bt.exports;f()(Bt,{VCard:Pe["a"],VCardText:$e["b"],VCardTitle:$e["c"],VRating:pt["a"]});var Ut={props:["id"],name:"Movie",components:{MovieHolder:jt,ReviewDialog:Pt,ReviewCard:Wt},watch:{getReviews:function(e){if(e.length){var t={reviews:this.getReviews,user:JSON.parse(this.getUser)};this.GET_REVIEW(t)}}},computed:Object(u["c"])(["getMovie","getReviews","getUser","getUserReview"]),methods:Object(l["a"])({},Object(u["b"])(["GET_MOVIE","GET_MOVIE_REVIEWS","GET_REVIEW"])),created:function(){this.GET_MOVIE(this.id),this.GET_MOVIE_REVIEWS(this.id)}},Lt=Ut,Ht=Object(d["a"])(Lt,xt,Vt,!1,null,null,null),qt=Ht.exports;f()(Ht,{VCard:Pe["a"],VCardTitle:$e["c"],VCol:He["a"],VContainer:b["a"],VRow:qe["a"]});var zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-tabs",{attrs:{grow:""}},[r("v-tab",[r("v-icon",[e._v("mdi-login-variant")])],1),r("v-tab",[r("v-icon",[e._v("mdi-account-plus")])],1),r("v-tab-item",[r("SignInForm")],1),r("v-tab-item",[r("SignUpForm")],1)],1)],1)],1)],1)],1)],1)],1)},Jt=[],Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",[r("v-container",[e.getError?r("v-row",[r("v-col",[r("ErrorAlert",{attrs:{text:e.getError},on:{dismissed:e.onDismissed}})],1)],1):e._e(),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Username","prepend-icon":"mdi-account",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Password","prepend-icon":"mdi-lock",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("v-col",{attrs:{cols:"12"}},[r("LoadingButton",{attrs:{text:"sign in",loading:e.getLoading},on:{clicked:e.login}})],1)],1)],1)],1)},Kt=[],Qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-alert",{attrs:{type:"error",dismissible:""},on:{input:e.onClose}},[e._v(" "+e._s(e.text)+" ")])},Xt=[],Zt={name:"ErrorAlert",props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},er=Zt,tr=r("0798"),rr=Object(d["a"])(er,Qt,Xt,!1,null,null,null),nr=rr.exports;f()(rr,{VAlert:tr["a"]});var ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{block:"",color:"primary",disabled:e.loading,loading:e.loading},on:{click:e.onClick}},[e._v(" "+e._s(e.text)+" "),r("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",[e._v("cached")])],1)])},or=[],ir={name:"LoadingButton",props:["text","loading"],methods:{onClick:function(){this.$emit("clicked")}}},sr=ir,cr=(r("b3ca"),Object(d["a"])(sr,ar,or,!1,null,null,null)),lr=cr.exports;f()(cr,{VBtn:_["a"],VIcon:nt["a"]});var ur={name:"SignInForm",data:function(){return{username:"",password:""}},components:{ErrorAlert:nr,LoadingButton:lr},computed:Object(l["a"])({},Object(u["c"])(["getLoading","getError"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["SIGN_IN"])),{},{login:function(){var e={username:this.username,password:this.password};this.SIGN_IN(e)},onDismissed:function(){this.$store.commit("clear_error")}})},vr=ur,mr=Object(d["a"])(vr,Yt,Kt,!1,null,null,null),dr=mr.exports;f()(mr,{VCol:He["a"],VContainer:b["a"],VForm:rt["a"],VRow:qe["a"],VTextField:ot["a"]});var pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",[r("v-container",[e.getError?r("v-row",[r("v-col",[r("ErrorAlert",{attrs:{text:e.getError},on:{dismissed:e.onDismissed}})],1)],1):e._e(),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"First Name","prepend-icon":"mdi-account"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Last Name","prepend-icon":"mdi-account"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Username","prepend-icon":"mdi-account"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Confirm password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),r("v-col",{attrs:{cols:"12"}},[r("LoadingButton",{attrs:{text:"sign up",loading:e.getLoading},on:{clicked:e.signup}})],1)],1)],1)],1)},fr=[],hr={name:"SignUpForm",data:function(){var e=this;return{firstName:"",lastName:"",username:"",password:"",confirmPassword:"",rules:{required:function(e){return!!e||"Required"},comparePasswords:function(t){return t!==e.password?"Passwords do not match":""}}}},components:{ErrorAlert:nr,LoadingButton:lr},computed:Object(l["a"])({},Object(u["c"])(["getError","getLoading"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["SIGN_UP"])),{},{signup:function(){var e={firstName:this.firstName,lastName:this.lastName,username:this.username,password:this.password,confirmPassword:this.confirmPassword};this.SIGN_UP(e)},onDismissed:function(){this.$store.commit("clear_error")}})},gr=hr,_r=Object(d["a"])(gr,pr,fr,!1,null,null,null),br=_r.exports;f()(_r,{VCol:He["a"],VContainer:b["a"],VForm:rt["a"],VRow:qe["a"],VTextField:ot["a"]});var wr={name:"Login",data:function(){return{tab:null}},components:{SignInForm:dr,SignUpForm:br},watch:{getToken:function(e){e&&this.$router.push("/")}},computed:Object(u["c"])(["getToken"]),created:function(){this.getToken&&this.$router.push("/")}},xr=wr,Vr=r("71a3"),Cr=r("c671"),kr=r("fe57"),Er=Object(d["a"])(xr,zt,Jt,!1,null,null,null),Or=Er.exports;f()(Er,{VCard:Pe["a"],VCol:He["a"],VContainer:b["a"],VIcon:nt["a"],VRow:qe["a"],VTab:Vr["a"],VTabItem:Cr["a"],VTabs:kr["a"]});var Rr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-form",{on:{submit:e.searchMovie}},[r("v-text-field",{attrs:{label:"Search IMDb","solo-inverted":"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),r("v-row",e._l(e.getImdbMovies,(function(t){return r("v-col",{key:t._id,attrs:{cols:"12",md:"6"}},[r("MovieWideCard",{attrs:{movie:t},on:{action:function(r){return e.addMovie(t)}}})],1)})),1)],1)},jr=[],Ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"d-flex justify-space-between",attrs:{height:"100%"}},[r("v-img",{attrs:{src:e.movie.poster,width:"150px",cover:""}}),r("v-card-text",{staticClass:"d-flex flex-column align-center justify-space-between"},[r("v-card-title",{staticClass:"pa-0",domProps:{textContent:e._s(e.movie.title)}}),r("v-rating",{attrs:{readonly:"",dense:"",small:""}}),r("v-btn",{attrs:{color:"primary"},domProps:{textContent:e._s("add movie")},on:{click:e.onClick}})],1)],1)},Mr=[],Tr={name:"MovieWideCard",props:["movie"],methods:{onClick:function(){this.$emit("action")}}},yr=Tr,Sr=Object(d["a"])(yr,Ir,Mr,!1,null,null,null),Gr=Sr.exports;f()(Sr,{VBtn:_["a"],VCard:Pe["a"],VCardText:$e["b"],VCardTitle:$e["c"],VImg:Ae["a"],VRating:pt["a"]});var Dr={name:"Admin",data:function(){return{search:""}},components:{MovieWideCard:Gr},computed:Object(u["c"])(["getImdbMovies","getToken"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["SEARCH_IMDB","ADD_MOVIE"])),{},{searchMovie:function(e){e.preventDefault();var t={token:this.getToken,movie:this.search};this.SEARCH_IMDB(t)},addMovie:function(e){var t={token:this.getToken,id:e.imdbId};this.ADD_MOVIE(t)}})},Pr=Dr,$r=Object(d["a"])(Pr,Rr,jr,!1,null,null,null),Ar=$r.exports;f()($r,{VCol:He["a"],VContainer:b["a"],VForm:rt["a"],VRow:qe["a"],VTextField:ot["a"]});var Nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-container",[r("v-card-title",{staticClass:"headline",domProps:{textContent:e._s("Watchlist")}}),r("v-row",e._l(e.getWatchlist.movies,(function(t){return r("v-col",{key:t._id,attrs:{cols:"6",sm:"4",md:"3",lg:"2"}},[r("MovieCard",{attrs:{movie:t,btnText:"remove"},on:{action:function(r){return e.removeMovie(t._id)}}})],1)})),1)],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-container",[r("v-card-title",{staticClass:"headline",domProps:{textContent:e._s("Reviews")}}),r("v-row",e._l(e.getUserReviews,(function(e){return r("v-col",{key:e._id,attrs:{cols:"12",md:"6",lg:"4"}},[r("ReviewCard",{attrs:{title:e.movie.title,text:e.comment,rating:e.rating}})],1)})),1)],1)],1)],1)],1)],1)},Fr=[],Br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[r("v-img",{attrs:{src:e.movie.poster}}),r("v-card-actions",[r("v-btn",{attrs:{block:"",color:"primary--text"},on:{click:e.onBtnClick}},[e._v(" "+e._s(e.btnText)+" ")])],1)],1)},Wr=[],Ur={name:"MovieCard",props:["btnText","movie"],methods:{onBtnClick:function(){this.$emit("action")}}},Lr=Ur,Hr=Object(d["a"])(Lr,Br,Wr,!1,null,null,null),qr=Hr.exports;f()(Hr,{VBtn:_["a"],VCard:Pe["a"],VCardActions:$e["a"],VImg:Ae["a"]});var zr={name:"Profile",components:{MovieCard:qr,ReviewCard:Wt},watch:{getToken:function(e){e||this.$router.push("/")}},computed:Object(u["c"])(["getToken","getWatchlist","getUserReviews"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["GET_WATCHLIST","REMOVE_MOVIE","GET_USER_REVIEWS"])),{},{removeMovie:function(e){var t={token:this.getToken,movieId:e};this.REMOVE_MOVIE(t)}}),created:function(){var e=this.getToken;e?(this.GET_WATCHLIST(e),this.GET_USER_REVIEWS(e)):this.$router.push("/login")}},Jr=zr,Yr=Object(d["a"])(Jr,Nr,Fr,!1,null,null,null),Kr=Yr.exports;f()(Yr,{VCard:Pe["a"],VCardTitle:$e["c"],VCol:He["a"],VContainer:b["a"],VRow:qe["a"]}),n["a"].use(xe["a"]);var Qr=[{path:"/",name:"home",component:Ye},{path:"/movies",name:"movies",component:wt},{path:"/movies/:id",name:"movie",props:!0,component:qt},{path:"/login",name:"login",component:Or},{path:"/profile",name:"profile",component:Kr},{path:"/admin",name:"admin",component:Ar}],Xr=new xe["a"]({mode:"history",base:"/",routes:Qr}),Zr=Xr,en=r("f309");r("d1e78");n["a"].use(en["a"]);var tn=new en["a"]({theme:{dark:!0},icons:{iconfont:"md"}});n["a"].config.productionTip=!1,new n["a"]({store:we,router:Zr,vuetify:tn,render:function(e){return e(W)}}).$mount("#app")},"6c48":function(e,t,r){"use strict";var n=r("51c9"),a=r.n(n);a.a},b3ca:function(e,t,r){"use strict";var n=r("dd87"),a=r.n(n);a.a},dd87:function(e,t,r){}});
//# sourceMappingURL=app.cbff94aa.js.map